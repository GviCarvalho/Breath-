 581:     if (gameOver === 'p1') return 'Você ficou sem fôlego'; 582:     if (gameOver === 'p2') return 'Oponente caiu'; 583:     if (gameOver === 'both') return 'Ambos ficam sem fôlego'; 584:     return null; 585:   }; 586:  587:   useEffect(() => { 588:     // se ambos revelarem, resolve; se ambos passarem, já tratamos no efeito próprio 589:     if (p1.revealed && p2.revealed) resolveRoundFlow(); 590:   }, [p1.revealed?.id, p2.revealed?.id]); 591:  592:   return ( 593:     <div className="min-h-screen flex flex-col"> 594:       <header className="flex justify-between items-center w-full px-6 py-4"> 595:         <h1 className="text-2xl font-bold text-white">Breath! Arena</h1> 596:         <div className="flex items-center gap-3 text-white"> 597:           <Button onClick={resetMatch} className="bg-white/10 hover:bg-white/20">Reiniciar</Button> 598:           <div className="flex items-center gap-2"> 599:             <span>{aiEnabled ? 'AI' : 'Hot-seat'}</span> 600:             <Switch checked={aiEnabled} onCheckedChange={handleAiToggle} /> 601:           </div> 602:         </div> 603:       </header> 604:  605:       <ArenaPrototype 606:         p1={p1} 607:         p2={p2} 608:         deckP1Count={deckP1.length} 609:         deckP2Count={deckP2.length} 610:         priorityOwner={priorityOwner} 611:         log={log} 612:         selectedId={selectedId} 613:         selectedP2Id={selectedP2Id} 614:         onClickP1Card={clickP1Card} 615:         onClickP2Card={clickP2Card} 616:         onClickSetP1Posture={(post) => { 617:           setP1((cur) => ({ ...cur, posture: post })); 618:           if (!p1PostureChosen) setP1PostureChosen(true); 619:           setLog((entries) => [`Você escolhe ${post}.`, ...entries]); 620:         }} 621:       /> 622:  623:       {/* Modal de fim de partida */} 624:       {showGameOverModal && ( 625:         <div className="fixed inset-0 z-50 flex items-center justify-center bg-black/50"> 626:           <div className="bg-white rounded-lg p-6 w-full max-w-md shadow-lg"> 627:             <h3 className="text-lg font-semibold mb-2">Fim de partida</h3> 628:             <p className="mb-2">{gameStatus()}</p> 629:             <div className="mb-4 text-sm">Placar (MD3): Você {p1Wins} x {p2Wins} Oponente</div> 630:             <div className="flex justify-end gap-3"> 631:               <Button onClick={() => setShowGameOverModal(false)} className="bg-slate-200 text-slate-700 hover:bg-slate-300"> 632:                 Fechar 633:               </Button> 634:               {Math.max(p1Wins, p2Wins) < 2 ? ( 635:                 <Button onClick={() => { setShowGameOverModal(false); resetMatch(); }} className="bg-emerald-500 hover:bg-emerald-400"> 636:                   Próximo Jogo 637:                 </Button> 638:               ) : ( 639:                 <Button onClick={() => { setP1Wins(0); setP2Wins(0); setShowGameOverModal(false); resetMatch(); }} className="bg-emerald-600 hover:bg-emerald-500"> 640:                   Reiniciar Série